var hosticDOM=(()=>{var P=Object.defineProperty,be=Object.prototype.hasOwnProperty,D=Object.assign,$=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Z=e=>P(e,"__esModule",{value:!0}),_e=(e,t)=>{Z(e);for(var r in t)P(e,r,{get:t[r],enumerable:!0})},xe=(e,t)=>{if(Z(e),typeof t=="object"||typeof t=="function")for(let r in t)!be.call(e,r)&&r!=="default"&&P(e,r,{get:()=>t[r],enumerable:!0});return e},we=e=>e&&e.__esModule?e:xe(P({},"default",{value:e,enumerable:!0}),e);var B=$(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.default=Ce;var K=/^[^\\]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,ve=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Te=/^\s*((?:\\.|[\w\u00b0-\uFFFF-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF-])*)|)|)\s*(i)?\]/,Ee={undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},ee={">":"child","<":"parent","~":"sibling","+":"adjacent"},te={"#":["id","equals"],".":["class","element"]},Ae=new Set(["has","not","matches"]),Oe=new Set(["contains","icontains"]),re=new Set(['"',"'"]);function De(e,t,r){var i=parseInt(t,16)-65536;return i!==i||r?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)}function F(e){return e.replace(ve,De)}function ie(e){return e===" "||e===`
`||e==="	"||e==="\f"||e==="\r"}function Ce(e,t){var r=[];if(e=ne(r,""+e,t),e!=="")throw new Error("Unmatched selector: "+e);return r}function ne(e,t,r){var i=[],l=!1;function n(){var _=t.match(K);if(!_)throw new Error("Expected name, found "+t);var O=_[0];return t=t.substr(O.length),F(O)}function a(_){for(;ie(t.charAt(_));)_++;t=t.substr(_)}function s(_){for(var O=0;t.charAt(--_)==="\\";)O++;return(O&1)===1}for(a(0);t!=="";){var h=t.charAt(0);if(ie(h))l=!0,a(1);else if(h in ee)i.push({type:ee[h]}),l=!1,a(1);else if(h===","){if(i.length===0)throw new Error("Empty sub-selector");e.push(i),i=[],l=!1,a(1)}else if(l&&(i.length>0&&i.push({type:"descendant"}),l=!1),h==="*")t=t.substr(1),i.push({type:"universal"});else if(h in te){var c=te[h],w=c[0],T=c[1];t=t.substr(1),i.push({type:"attribute",name:w,action:T,value:n(),ignoreCase:!1})}else if(h==="["){t=t.substr(1);var o=t.match(Te);if(!o)throw new Error("Malformed attribute selector: "+t);t=t.substr(o[0].length);var d=F(o[1]);(!r||("lowerCaseAttributeNames"in r?r.lowerCaseAttributeNames:!r.xmlMode))&&(d=d.toLowerCase()),i.push({type:"attribute",name:d,action:Ee[o[2]],value:F(o[4]||o[5]||""),ignoreCase:!!o[6]})}else if(h===":"){if(t.charAt(1)===":"){t=t.substr(2),i.push({type:"pseudo-element",name:n().toLowerCase()});continue}t=t.substr(1);var p=n().toLowerCase(),o=null;if(t.charAt(0)==="(")if(Ae.has(p)){var g=t.charAt(1),I=re.has(g);if(t=t.substr(I?2:1),o=[],t=ne(o,t,r),I){if(t.charAt(0)!==g)throw new Error("Unmatched quotes in :"+p);t=t.substr(1)}if(t.charAt(0)!==")")throw new Error("Missing closing parenthesis in :"+p+" ("+t+")");t=t.substr(1)}else{for(var N=1,C=1;C>0&&N<t.length;N++)t.charAt(N)==="("&&!s(N)?C++:t.charAt(N)===")"&&!s(N)&&C--;if(C)throw new Error("Parenthesis not matched");if(o=t.substr(1,N-2),t=t.substr(N),Oe.has(p)){var g=o.charAt(0);g===o.slice(-1)&&re.has(g)&&(o=o.slice(1,-1)),o=F(o)}}i.push({type:"pseudo",name:p,data:o})}else if(K.test(t)){var A=n();(!r||("lowerCaseTags"in r?r.lowerCaseTags:!r.xmlMode))&&(A=A.toLowerCase()),i.push({type:"tag",name:A})}else return i.length&&i[i.length-1].type==="descendant"&&i.pop(),se(e,i),t}return se(e,i),t}function se(e,t){if(e.length>0&&t.length===0)throw new Error("Empty sub-selector");e.push(t)}});var le=$(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var Se={equals:"",element:"~",start:"^",end:"$",any:"*",not:"!",hyphen:"|"};function ae(e){return e.map(je).join(", ")}k.default=ae;function je(e){return e.map(Le).join("")}function Le(e){switch(e.type){case"child":return" > ";case"parent":return" < ";case"sibling":return" ~ ";case"adjacent":return" + ";case"descendant":return" ";case"universal":return"*";case"tag":return y(e.name);case"pseudo-element":return"::"+y(e.name);case"pseudo":return e.data===null?":"+y(e.name):typeof e.data=="string"?":"+y(e.name)+"("+e.data+")":":"+y(e.name)+"("+ae(e.data)+")";case"attribute":return e.action==="exists"?"["+y(e.name)+"]":e.name==="id"&&e.action==="equals"&&!e.ignoreCase?"#"+y(e.value):e.name==="class"&&e.action==="element"&&!e.ignoreCase?"."+y(e.value):"["+y(e.name)+Se[e.action]+"='"+y(e.value)+"'"+(e.ignoreCase?"i":"")+"]";default:throw new Error("Unknown type")}}function y(e){return e}});var oe=$(b=>{"use strict";var Me=b&&b.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),Pe=b&&b.__exportStar||function(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&Me(t,e,r)};Object.defineProperty(b,"__esModule",{value:!0});Pe(B(),b);var $e=B();Object.defineProperty(b,"parse",{enumerable:!0,get:function(){return $e.default}});var Fe=le();Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return Fe.default}})});var ce=$(qe=>{_e(qe,{CDATA:()=>W,VDocument:()=>L,VDocumentFragment:()=>j,VElement:()=>x,VHTMLDocument:()=>V,VNode:()=>u,VNodeQuery:()=>q,VTextNode:()=>f,createDocument:()=>X,createHTMLDocument:()=>ue,document:()=>G,escapeHTML:()=>E,h:()=>he,hArgumentParser:()=>v,hFactory:()=>H,html:()=>m,tidyDOM:()=>z,unescapeHTML:()=>R,xml:()=>S})});function He(e,t,r,i){if(typeof t=="function")return t.call(null,{props:D(D({},r),{children:i}),attrs:r,children:i,h:e.h,context:e});{let l;if(t?t.toLowerCase()==="fragment"?l=e.document.createDocumentFragment():l=e.document.createElement(t):l=e.document.createElement("div"),r)for(let[n,a]of Object.entries(r))n&&typeof n=="string"&&(n=n.toLowerCase()),n==="classname"?l.className=a:n==="on"?Object.entries(a).forEach(([s,h])=>{l.setAttribute("on"+s,h)}):a!==!1&&a!=null&&(a===!0?l.setAttribute(n,n):l.setAttribute(n,a.toString()));if(i)for(const n of i){let a=Array.isArray(n)?[...n]:[n];for(let s of a)s&&(s!==!1&&s!=null&&(typeof s!="object"?l.appendChild(e.document.createTextNode(s.toString())):l.appendChild(s)))}return l}}function v(e,t,...r){return typeof e=="object"&&(e="fragment",r=e.children,t=e.attrs),Array.isArray(t)?(r=t,t={}):t?t.attrs&&(t=D(D({},t.attrs),t),delete t.attrs):t={},{tag:e,attrs:t,children:r.flat(Infinity)}}function H(e){return e.h=function(r,i,...l){let{tag:n,attrs:a,children:s}=v(r,i,l);return He(e,n,a,s)},e.h}function E(e){return e&&e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")}function R(e){return e&&e.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"').replace(/&apos;/gi,"'").replace(/&amp;/gi,"&")}let M=[];function W(e){return e="<![CDATA["+e+"]]>",M.push(e),e}function J(e,t,r,i){const l=i&&i.length>0;let n="";if(t=t.replace(/__/g,":"),t!=="noop"){t!=="cdata"?n+=`<${t}`:n+="<![CDATA[";for(let a in r)if(a&&r.hasOwnProperty(a)){let s=r[a];if(a==="html")continue;a.toLowerCase()==="classname"&&(a="class"),a=a.replace(/__/g,":"),s===!0?n+=` ${a}="${a}"`:a==="style"&&typeof s=="object"?n+=` ${a}="${Object.keys(s).filter(h=>s[h]!=null).map(h=>{let c=s[h];return c=typeof c=="number"?c+"px":c,`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${c}`}).join(";")}"`:s!==!1&&s!=null&&(n+=` ${a}="${E(s.toString())}"`)}if(t!=="cdata"){if(e&&!l)return n+=" />",M.push(n),n;n+=">"}if(!e&&["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(t)!==-1)return M.push(n),n}if(l){for(let a of i)if(a!=null&&a!==!1){Array.isArray(a)||(a=[a]);for(let s of a)M.indexOf(s)!==-1||t==="script"||t==="style"?n+=s:n+=E(s.toString())}}return r.html&&(n+=r.html),t!=="noop"&&(t!=="cdata"?n+=`</${t}>`:n+="]]>"),M.push(n),n}function m(e,t,...r){let{tag:i,attrs:l,children:n}=v(e,t,r);return J(!1,i,l,n)}m.firstLine="<!DOCTYPE html>";m.html=!0;const de=we(oe());let fe={};function Ie(e){let t=fe[e];return t==null&&(t=de.parse(e),fe[e]=t),t}function pe(e,t,{debug:r=!1}={}){for(let l of Ie(e)){r&&(console.log("Selector:",e),console.log("Rules:",l),console.log("Element:",t));function i(n,a){var h,c,w;let s=!1;for(let T of a){const{type:o,name:d,action:p,value:g,ignoreCase:I=!0,data:N}=T;if(o==="attribute")p==="equals"?(s=n.getAttribute(d)===g,r&&console.log("Attribute equals",s)):p==="start"?(s=(h=n.getAttribute(d))==null?void 0:h.startsWith(g),r&&console.log("Attribute start",s)):p==="end"?(s=(c=n.getAttribute(d))==null?void 0:c.endsWith(g),r&&console.log("Attribute start",s)):p==="element"?d==="class"?(s=n.classList.contains(g),r&&console.log("Attribute class",s)):(s=(w=n.getAttribute(d))==null?void 0:w.includes(g),r&&console.log("Attribute element",s)):p==="exists"?(s=n.hasAttribute(d),r&&console.log("Attribute exists",s)):console.warn("Unknown CSS selector action",p);else if(o==="tag")s=n.tagName===d.toUpperCase(),r&&console.log("Is tag",s);else if(o==="universal")s=!0,r&&console.log("Is universal",s);else if(o==="pseudo"){if(d==="not"){let C=!0;N.forEach(A=>{i(n,A)||(C=!1)}),s=!C}r&&console.log("Is :not",s)}else console.warn("Unknown CSS selector type",o,e,a);if(!s)break}return s}if(i(t,l))return!0}return!1}const Ue=Symbol.for("nodejs.util.inspect.custom");let me={fontWeight:"bold"},ge={fontStyle:"italic"},Ne={backgroundColor:"rgb(255, 250, 165)"},ye={textDecorations:"underline"},Y={textDecorations:"line-through"},Be={b:me,strong:me,em:ge,i:ge,mark:Ne,u:ye,a:ye,s:Y,del:Y,ins:Ne,strike:Y};class u{get nodeType(){return console.error("Subclasses should define nodeType!"),0}get nodeName(){return console.error("Subclasses should define nodeName!"),""}get nodeValue(){return null}constructor(){this._parentNode=null,this._childNodes=[]}cloneNode(e=!1){let t=new this.constructor;return e&&(t._childNodes=this._childNodes.map(r=>r.cloneNode(!0)),t._fixChildNodesParent()),t}_fixChildNodesParent(){this._childNodes.forEach(e=>e._parentNode=this)}insertBefore(e,t=null){if(e!==t){let r=t?this._childNodes.indexOf(t):0;r<0&&(r=0),this._childNodes.splice(r,0,e),this._fixChildNodesParent()}}appendChild(e){if(e===this){console.warn("Cannot appendChild to self");return}if(e instanceof L&&console.warn("No defined how to append a document to a node!",e),e instanceof j)for(let t of[...e._childNodes])this.appendChild(t);else if(Array.isArray(e))for(let t of[...e])this.appendChild(t);else if(e instanceof u)e.remove(),this._childNodes.push(e);else try{const t=typeof e=="string"?e:JSON.stringify(e,null,2);this._childNodes.push(new f(t))}catch(t){console.error(`The data ${e} to be added to ${this.render()} is problematic: ${t}`)}this._fixChildNodesParent()}removeChild(e){let t=this._childNodes.indexOf(e);t>=0&&(e._parentNode=null,this._childNodes.splice(t,1),this._fixChildNodesParent())}remove(){var e;return(e=this==null?void 0:this.parentNode)==null||e.removeChild(this),this}replaceChildren(...e){this._childNodes=e.map(t=>typeof t=="string"?new f(t):t.remove()),this._fixChildNodesParent()}replaceWith(...e){let t=this._parentNode;if(t){let r=this._indexInParent();r>=0&&(e=e.map(i=>typeof i=="string"?new f(i):i.remove()),t._childNodes.splice(r,1,...e),this._parentNode=null,t._fixChildNodesParent())}}_indexInParent(){return this._parentNode?this._parentNode.childNodes.indexOf(this):-1}get parentNode(){return this._parentNode}get childNodes(){return this._childNodes||[]}get children(){return this._childNodes||[]}get firstChild(){return this._childNodes[0]}get lastChild(){return this._childNodes[this._childNodes.length-1]}get nextSibling(){let e=this._indexInParent();return e!=null&&this.parentNode.childNodes[e+1]||null}get previousSibling(){let e=this._indexInParent();return e>0&&this.parentNode.childNodes[e-1]||null}flatten({condition:e=t=>t instanceof x}={}){let t=[];e(this)&&t.push(this);for(let r of this._childNodes)t.push(...r.flatten({condition:e}));return t}render(){return""}get textContent(){return this._childNodes.map(e=>e.textContent).join("")}set textContent(e){this._childNodes=[],e&&this.appendChild(new f(e.toString()))}contains(e){return e===this?!0:this._childNodes.some(t=>t.contains(e))}get ownerDocument(){var e;return this.nodeType===u.DOCUMENT_NODE||this.nodeType===u.DOCUMENT_FRAGMENT_NODE?this:(e=this==null?void 0:this._parentNode)==null?void 0:e.ownerDocument}toString(){return`${this.nodeName}`}[Ue](){return`${this.constructor.name} "${this.render()}"`}}u.ELEMENT_NODE=1,u.TEXT_NODE=3,u.CDATA_SECTION_NODE=4,u.PROCESSING_INSTRUCTION_NODE=7,u.COMMENT_NODE=8,u.DOCUMENT_NODE=9,u.DOCUMENT_TYPE_NODE=10,u.DOCUMENT_FRAGMENT_NODE=11;class f extends u{get nodeType(){return u.TEXT_NODE}get nodeName(){return"#text"}get nodeValue(){return this._text||""}get textContent(){return this.nodeValue}constructor(e=""){super();this._text=e}render(){return this._text}cloneNode(e=!1){let t=super.cloneNode(e);return t._text=this._text,t}}class q extends u{getElementById(e){return this.flatten().find(t=>t._attributes.id===e)}getElementsByClassName(e){return this.flatten().filter(t=>t.classList.contains(e))}matches(e){return pe(e,this)}querySelectorAll(e){return this.flatten().filter(t=>t.matches(e))}querySelector(e){return this.flatten().find(t=>t.matches(e))}parent(e){var t;return this.matches(e)?this:this.parentNode==null?null:(t=this.parentNode)==null?void 0:t.parent(e)}handle(e,t){let r=0;for(let i of this.querySelectorAll(e))t(i,r++)}}class x extends q{get nodeType(){return u.ELEMENT_NODE}get nodeName(){return this._nodeName}constructor(e="div",t={}){super();this._nodeName=(e||"").toUpperCase(),this._attributes=t||{},this._styles=null}cloneNode(e=!1){let t=super.cloneNode(e);return t._nodeName=this._nodeName,t._attributes=Object.assign({},this._attributes),t}get attributes(){return this._attributes}setAttribute(e,t){this._attributes[e]=t,this._styles=null}getAttribute(e){return this._attributes[e]}removeAttribute(e){delete this._attributes[e]}hasAttribute(e){return this._attributes[e]!=null}get style(){if(this._styles==null){let e=Object.assign({},Be[this.tagName.toLowerCase()]||{}),t=this.getAttribute("style");if(t){let r,i=/\s*([\w-]+)\s*:\s*([^;]+)/g;for(;r=i.exec(t);){let l=r[1],n=r[2].trim();e[l]=n;let a=s=>s.replace(/[A-Z]/g,"-$&").toLowerCase();e[a]=n}}this._styles=e}return this._styles}get tagName(){return this._nodeName}get id(){return this._attributes.id}set id(e){this._attributes.id=e}get src(){return this._attributes.src}set src(e){this._attributes.src=e}getElementsByTagName(e){e=e.toUpperCase();let t=this.flatten();return e!=="*"?t.filter(r=>r.tagName===e):t}get innerHTML(){return this._childNodes.map(e=>e.render(m)).join("")}set innerHTML(e){if(this.setInnerHTML)this.setInnerHTML(e);else throw"set innerHTML not implemented"}get outerHTML(){return this.render(m)}get className(){return this._attributes.class||""}set className(e){Array.isArray(e)?e=e.filter(t=>!!t).join(" "):typeof e=="object"&&(e=Object.entries(e).filter(([t,r])=>!!r).map(([t,r])=>t).join(" ")),this._attributes.class=e}get classList(){let e=this,t=(this.className||"").trim().split(/\s+/g)||[];return{contains(r){return t.includes(r)},add(r){t.includes(r)||(t.push(r),e.className=t)},remove(r){let i=t.indexOf(r);i>=0&&(t.splice(i,1),e.className=t)}}}render(e=m){return e(this.tagName.toLowerCase(),this.attributes,this.childNodes.map(t=>t.render(e)))}}class j extends q{get nodeType(){return u.DOCUMENT_FRAGMENT_NODE}get nodeName(){return"#document-fragment"}render(e=m){return this._childNodes.map(t=>t.render(e)||[]).join("")}get innerHTML(){return this._childNodes.map(e=>e.render(m)).join("")}createElement(e,t={}){return new x(e,t)}createDocumentFragment(){return new j}createTextNode(e){return new f(e)}}class L extends j{get nodeType(){return u.DOCUMENT_NODE}get nodeName(){return"#document"}get documentElement(){return this.firstChild}}class V extends L{constructor(){super();let e=new x("html"),t=new x("body"),r=new x("head"),i=new x("title");e.appendChild(r),r.appendChild(i),e.appendChild(t),this.appendChild(e)}get body(){return this.querySelector("body")}get title(){var e;return(e=this.querySelector("title"))==null?void 0:e.textContent}set title(e){this.querySelector("title").textContent=e}get head(){return this.querySelector("head")}render(e=m){let t=super.render(e);return e.firstLine&&(t=e.firstLine+`
`+t),t}}function X(){return new L}function ue(){return new V}let G=X(),he=H({document:G});function Q(e){let t="";for(;e.parentNode;)t+="  ",e=e.parentNode;return t.substr(2)}function z(e,t){let r="meta,link,script,p,h1,h2,h3,h4,h5,h6,blockquote,div,ul,ol,li,article,section,footer,head,body,title,nav,section,article,hr,form";e.handle(r,i=>{var s,h,c,w,T,o;let l=i;for(;l;){if(["PRE","CODE","SCRIPT","STYLE","TT"].includes(l.tagName))return;l=l.parentNode}let n=i.previousSibling;(!n||n.nodeType!==u.TEXT_NODE||!((s=n.nodeValue)==null?void 0:s.endsWith(`
`)))&&((h=i.parentNode)==null||h.insertBefore(new f(`
`),i)),(c=i.parentNode)==null||c.insertBefore(new f(Q(i)),i);let a=i.nextSibling;if((!a||a.nodeType!==u.TEXT_NODE||!((w=a.nodeValue)==null?void 0:w.startsWith(`
`)))&&(a?(T=i.parentNode)==null||T.insertBefore(new f(`
`),a):(o=i.parentNode)==null||o.appendChild(new f(`
`))),i.childNodes.length){let d=i.firstChild;d.nodeType===u.TEXT_NODE&&i.insertBefore(new f(`
`+Q(i)+"  ")),i.appendChild(new f(`
`+Q(i)))}})}function S(e,t,...r){let{tag:i,attrs:l,children:n}=v(e,t,r);return J(!0,i,l,n)}S.firstLine='<?xml version="1.0" encoding="utf-8"?>';S.xml=!0;return ce();})();
